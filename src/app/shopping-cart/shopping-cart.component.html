<div class="header">
    <div>
        <mat-icon style="vertical-align: sub; font-size: 26px; margin-right: 10px;">shopping_cart</mat-icon>Shopping Cart
    </div>
    <div style="margin-top: -3px;">
        <button mat-icon-button (click)="dialogRef.close()">
            <mat-icon>close</mat-icon>
        </button>
    </div>
</div>

<mat-card style="margin: -24px;">
    <table mat-table [dataSource]="dataSource">
        <ng-container matColumnDef="Image">
            <th width="12%" mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let item"><img src="../../assets/{{ item.ImagePath }}"></td>
            <td mat-footer-cell *matFooterCellDef></td>
        </ng-container>

        <ng-container matColumnDef="Name">
            <th width="27%" mat-header-cell *matHeaderCellDef>Product</th>
            <td mat-cell *matCellDef="let item">
                {{ item.Name }}
            </td>
            <td mat-footer-cell *matFooterCellDef></td>
        </ng-container>

        <ng-container matColumnDef="Price">
            <th width="12%" mat-header-cell *matHeaderCellDef>Price</th>
            <td mat-cell *matCellDef="let item">
                {{ item.Price | currency }}
            </td>
            <td mat-footer-cell *matFooterCellDef></td>
        </ng-container>
    
        <ng-container matColumnDef="Quantity">
            <th width="25%" mat-header-cell *matHeaderCellDef>Quantity</th>
            <td mat-cell *matCellDef="let item">
                <button mat-stroked-button (click)="decreaseQuantity(item)">
                    <mat-icon>remove</mat-icon>
                </button>
                <input [(ngModel)]="item.Quantity">
                <button mat-stroked-button (click)="increaseQuantity(item)">
                    <mat-icon>add</mat-icon>
                </button>
            </td>
            <td mat-footer-cell *matFooterCellDef></td>
        </ng-container>
    
        <ng-container matColumnDef="Total">
            <th width="12%" mat-header-cell *matHeaderCellDef>Total</th>
            <td mat-cell *matCellDef="let item">
                {{ item.Price * item.Quantity | currency }}
            </td>
            <td mat-footer-cell *matFooterCellDef>
                <div style="margin: 15px 0;">{{ this.cartService.getTotalCost() | currency }}</div>
                <div style="margin: 15px 0;">{{ this.cartService.getTax() | currency}}</div>
                <div style="margin: 15px 0;">{{ this.cartService.getTotalCost() + this.cartService.getTax() | currency}}</div>
            </td>
        </ng-container>

        <ng-container matColumnDef="Remove">
            <th width="12%" mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let item" style="text-align: center;">
                <button mat-stroked-button (click)="remove(item)" color="primary">Remove</button>
            </td>
            <td mat-footer-cell *matFooterCellDef>
                <div style="margin: 15px 0;">Sub-Total</div>
                <div style="margin: 15px 0;">Tax</div>
                <div style="margin: 15px 0;">Total</div>
            </td>
        </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
    </table>
</mat-card>
