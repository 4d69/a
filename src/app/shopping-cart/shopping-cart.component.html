<div class="page-wrapper">
    <div class="page-header">
        <div class="page-header-title">
            Shopping Cart
        </div>
    </div>
    <div class="page-content">
        <mat-card>
            <table mat-table *ngIf="cartService.items.length" [dataSource]="dataSource">
                <!-- <ng-container matColumnDef="Image">
                    <th width="12%" mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let item"><img src="../../assets/{{ item.ImagePath }}"></td>
                    <td mat-footer-cell *matFooterCellDef></td>
                </ng-container>-->
        
                <ng-container matColumnDef="Name">
                    <th width="35%" mat-header-cell *matHeaderCellDef>Product</th>
                    <td mat-cell *matCellDef="let item">
                        {{ item.Name }}
                    </td>
                    <!-- <td mat-footer-cell *matFooterCellDef></td> -->
                </ng-container>
        
                <ng-container matColumnDef="Price">
                    <th mat-header-cell *matHeaderCellDef>Price</th>
                    <td mat-cell *matCellDef="let item">
                        {{ item.Price | currency }}
                    </td>
                    <!-- <td mat-footer-cell *matFooterCellDef></td> -->
                </ng-container>
            
                <ng-container matColumnDef="Quantity">
                    <th mat-header-cell *matHeaderCellDef>Quantity</th>
                    <td mat-cell *matCellDef="let item">
                        <button mat-stroked-button (click)="decreaseQuantity(item)">
                            <mat-icon>remove</mat-icon>
                        </button>
                        <input [(ngModel)]="item.Quantity">
                        <button mat-stroked-button (click)="increaseQuantity(item)">
                            <mat-icon>add</mat-icon>
                        </button>
                    </td>
                    <!-- <td mat-footer-cell *matFooterCellDef></td> -->
                </ng-container>
            
                <ng-container matColumnDef="Total">
                    <th mat-header-cell *matHeaderCellDef>Total</th>
                    <td mat-cell *matCellDef="let item">
                        {{ item.Price * item.Quantity | currency }}
                    </td>
                    <!-- <td mat-footer-cell *matFooterCellDef>
                        <div style="margin: 15px 0;">{{ this.cartService.getTotalCost() | currency }}</div>
                        <div style="margin: 15px 0;">{{ this.cartService.getTax() | currency}}</div>
                        <div style="margin: 15px 0;">{{ this.cartService.getTotalCost() + this.cartService.getTax() | currency}}</div>
                    </td> -->
                </ng-container>
        
                <ng-container matColumnDef="Remove">
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let item" style="text-align: center;">
                        <button mat-stroked-button (click)="remove(item)" color="primary">Remove</button>
                    </td>
                    <!-- <td mat-footer-cell *matFooterCellDef>
                        <div style="margin: 15px 0;">Sub-Total</div>
                        <div style="margin: 15px 0;">Tax</div>
                        <div style="margin: 15px 0;">Total</div>
                    </td> -->
                </ng-container>
            
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                <!-- <tr mat-footer-row *matFooterRowDef="displayedColumns; sticky: true"></tr> -->
            </table>
            <div class="no-items" *ngIf="!cartService.items.length">
                Your shopping cart is currently empty.
                <div style="margin-top: 10px;"><a routerLink="/product-catalog">Click here to browse our product catalog.</a></div>
            </div>
        </mat-card>
        <div class="cart-overview-wrapper" *ngIf="cartService.items.length">
            <div class="cart-overview">
                <div>Sub-Total: {{ this.cartService.getTotalCost() | currency }}</div>
                <div>Tax: {{ this.cartService.getTax() | currency}}</div>
                <div>Total: {{ this.cartService.getTotalCost() + this.cartService.getTax() | currency}}</div>
                <div class="button-container">
                    <button mat-raised-button color="primary">Proceed to Checkout</button>
                </div>
            </div>
        </div>
    </div>
</div>
